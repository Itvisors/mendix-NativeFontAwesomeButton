{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"./utils/invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=n(r(d[1])),u=n(r(d[2])),o={get:function(n,t){return n.routes.find(function(n){return n.key===t})||null},indexOf:function(n,t){return n.routes.findIndex(function(n){return n.key===t})},has:function(n,t){return!!n.routes.some(function(n){return n.key===t})},push:function(n,f){(0,u.default)(-1===o.indexOf(n,f.key),'should not push route with duplicated key %s',f.key);var l=n.routes.slice();return l.push(f),(0,t.default)({},n,{index:l.length-1,routes:l})},pop:function(n){if(n.index<=0)return n;var u=n.routes.slice(0,-1);return(0,t.default)({},n,{index:u.length-1,routes:u})},jumpToIndex:function(n,o){return o===n.index?n:((0,u.default)(!!n.routes[o],'invalid index %s to jump to',o),(0,t.default)({},n,{index:o}))},jumpTo:function(n,t){var u=o.indexOf(n,t);return o.jumpToIndex(n,u)},back:function(n){var t=n.index-1;return n.routes[t]?o.jumpToIndex(n,t):n},forward:function(n){var t=n.index+1;return n.routes[t]?o.jumpToIndex(n,t):n},replaceAndPrune:function(n,u,f){var l=o.indexOf(n,u),s=o.replaceAtIndex(n,l,f);return(0,t.default)({},s,{routes:s.routes.slice(0,l+1)})},replaceAt:function(n,t,u){var f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=o.indexOf(n,t),s=f?n.index:l,c=o.replaceAtIndex(n,l,u);return c.index=s,c},replaceAtIndex:function(n,o,f){if((0,u.default)(!!n.routes[o],'invalid index %s for replacing route %s',o,f.key),n.routes[o]===f&&o===n.index)return n;var l=n.routes.slice();return l[o]=f,(0,t.default)({},n,{index:o,routes:l})},reset:function(n,o,f){(0,u.default)(o.length&&Array.isArray(o),'invalid routes to replace');var l=void 0===f?o.length-1:f;if(n.routes.length===o.length&&n.index===l){if(n.routes.every(function(n,t){return o[t]===n}))return n}return(0,u.default)(!!o[l],'invalid index %s to reset',l),(0,t.default)({},n,{index:l,routes:o})}},f=o;e.default=f});","map":[[1,108,1,0],[1,112,1,0,"_objectSpread2"],[1,114,1,0,"_interopRequireDefault"],[1,116,1,0,"r"],[1,118,1,0,"d"],[1,120,1,0],[1,125,1,63,"_invariant"],[1,127,1,63,"_interopRequireDefault"],[1,129,1,63,"r"],[1,131,1,63,"d"],[1,133,1,63],[1,138,1,108,"StateUtils"],[1,141,1,120,"get"],[1,145,1,124],[1,154,1,137,"state"],[1,156,1,143,"key"],[1,159,1,148],[1,166,1,155,"state"],[1,168,1,161,"routes"],[1,175,1,168,"find"],[1,180,1,173],[1,189,1,182,"route"],[1,192,1,189],[1,199,1,196,"route"],[1,201,1,202,"key"],[1,207,1,208,"key"],[1,212,1,216],[1,218,1,223,"indexOf"],[1,226,1,231],[1,235,1,248,"state"],[1,237,1,254,"key"],[1,240,1,259],[1,247,1,266,"state"],[1,249,1,272,"routes"],[1,256,1,279,"findIndex"],[1,266,1,289],[1,275,1,298,"route"],[1,278,1,305],[1,285,1,312,"route"],[1,287,1,318,"key"],[1,293,1,324,"key"],[1,298,1,333,"has"],[1,302,1,337],[1,311,1,350,"state"],[1,313,1,356,"key"],[1,316,1,361],[1,324,1,369,"state"],[1,326,1,375,"routes"],[1,333,1,382,"some"],[1,338,1,387],[1,347,1,396,"route"],[1,350,1,403],[1,357,1,410,"route"],[1,359,1,416,"key"],[1,365,1,422,"key"],[1,370,1,431,"push"],[1,375,1,436],[1,384,1,450,"state"],[1,386,1,456,"route"],[1,390,1,463],[1,392,1,463,"_invariant"],[1,394,1,463,"default"],[1,404,1,473],[1,408,1,473,"StateUtils"],[1,410,1,484,"indexOf"],[1,418,1,492,"state"],[1,420,1,498,"route"],[1,422,1,504,"key"],[1,427,1,514],[1,474,1,561,"route"],[1,476,1,567,"key"],[1,481,1,572],[1,485,1,576,"routes"],[1,487,1,583,"state"],[1,489,1,589,"routes"],[1,496,1,596,"slice"],[1,504,1,623],[1,511,1,604,"routes"],[1,513,1,611,"push"],[1,518,1,616,"route"],[1,522,1,630],[1,524,1,630,"_objectSpread2"],[1,526,1,630,"default"],[1,538,1,647,"state"],[1,541,1,654,"index"],[1,547,1,660,"routes"],[1,549,1,667,"length"],[1,556,1,674],[1,558,1,676,"routes"],[1,565,1,683,"routes"],[1,570,1,694,"pop"],[1,574,1,698],[1,583,1,711,"state"],[1,586,1,718],[1,589,1,721,"state"],[1,591,1,727,"index"],[1,598,1,734],[1,600,1,737],[1,607,1,744,"state"],[1,609,1,751],[1,613,1,755,"routes"],[1,615,1,762,"state"],[1,617,1,768,"routes"],[1,624,1,775,"slice"],[1,630,1,781],[1,633,1,762],[1,636,1,787],[1,643,1,794],[1,645,1,794,"_objectSpread2"],[1,647,1,794,"default"],[1,659,1,811,"state"],[1,662,1,818,"index"],[1,668,1,824,"routes"],[1,670,1,831,"length"],[1,677,1,838],[1,679,1,840,"routes"],[1,686,1,847,"routes"],[1,691,1,858,"jumpToIndex"],[1,703,1,870],[1,712,1,891,"state"],[1,714,1,897,"index"],[1,717,1,904],[1,724,1,907,"index"],[1,728,1,915,"state"],[1,730,1,921,"index"],[1,736,1,935,"state"],[1,740,1,942],[1,742,1,942,"_invariant"],[1,744,1,942,"default"],[1,755,1,954,"state"],[1,757,1,960,"routes"],[1,764,1,967,"index"],[1,767,1,974],[1,797,1,1004,"index"],[1,801,1,1018],[1,803,1,1018,"_objectSpread2"],[1,805,1,1018,"default"],[1,817,1,1035,"state"],[1,820,1,1042,"index"],[1,826,1,1048,"index"],[1,832,1,1058,"jumpTo"],[1,839,1,1065],[1,848,1,1081,"state"],[1,850,1,1087,"key"],[1,853,1,1092],[1,857,1,1096,"index"],[1,859,1,1102,"StateUtils"],[1,861,1,1113,"indexOf"],[1,869,1,1121,"state"],[1,871,1,1127,"key"],[1,874,1,1132],[1,881,1,1139,"StateUtils"],[1,883,1,1150,"jumpToIndex"],[1,895,1,1162,"state"],[1,897,1,1168,"index"],[1,901,1,1177,"back"],[1,906,1,1182],[1,915,1,1196,"state"],[1,918,1,1203],[1,922,1,1207,"index"],[1,924,1,1213,"state"],[1,926,1,1219,"index"],[1,932,1,1225],[1,934,1,1257],[1,941,1,1237,"state"],[1,943,1,1243,"routes"],[1,950,1,1250,"index"],[1,953,1,1270,"StateUtils"],[1,955,1,1281,"jumpToIndex"],[1,967,1,1293,"state"],[1,969,1,1299,"index"],[1,972,1,1306,"state"],[1,975,1,1314,"forward"],[1,983,1,1322],[1,992,1,1339,"state"],[1,995,1,1346],[1,999,1,1350,"index"],[1,1001,1,1356,"state"],[1,1003,1,1362,"index"],[1,1009,1,1368],[1,1011,1,1400],[1,1018,1,1380,"state"],[1,1020,1,1386,"routes"],[1,1027,1,1393,"index"],[1,1030,1,1413,"StateUtils"],[1,1032,1,1424,"jumpToIndex"],[1,1044,1,1436,"state"],[1,1046,1,1442,"index"],[1,1049,1,1449,"state"],[1,1052,1,1457,"replaceAndPrune"],[1,1068,1,1473],[1,1077,1,1498,"state"],[1,1079,1,1504,"key"],[1,1081,1,1508,"route"],[1,1084,1,1515],[1,1088,1,1519,"index"],[1,1090,1,1525,"StateUtils"],[1,1092,1,1536,"indexOf"],[1,1100,1,1544,"state"],[1,1102,1,1550,"key"],[1,1105,1,1559,"replaced"],[1,1107,1,1568,"StateUtils"],[1,1109,1,1579,"replaceAtIndex"],[1,1124,1,1594,"state"],[1,1126,1,1600,"index"],[1,1128,1,1606,"route"],[1,1131,1,1613],[1,1138,1,1620],[1,1140,1,1620,"_objectSpread2"],[1,1142,1,1620,"default"],[1,1154,1,1637,"replaced"],[1,1157,1,1647,"routes"],[1,1164,1,1654,"replaced"],[1,1166,1,1663,"routes"],[1,1173,1,1670,"slice"],[1,1179,1,1676],[1,1181,1,1678,"index"],[1,1183,1,1684],[1,1189,1,1691,"replaceAt"],[1,1199,1,1701],[1,1208,1,1720,"state"],[1,1210,1,1726,"key"],[1,1212,1,1730,"route"],[1,1215,1,1737],[1,1219,1,1741,"preserveIndex"],[1,1221,1,1755,"arguments"],[1,1231,1,1765,"length"],[1,1238,1,1772],[1,1246,1,1790,"undefined"],[1,1250,1,1775,"arguments"],[1,1260,1,1785],[1,1264,1,1800,"arguments"],[1,1274,1,1810],[1,1277,1,1823,"index"],[1,1279,1,1829,"StateUtils"],[1,1281,1,1840,"indexOf"],[1,1289,1,1848,"state"],[1,1291,1,1854,"key"],[1,1294,1,1863,"nextIndex"],[1,1296,1,1873,"preserveIndex"],[1,1298,1,1887,"state"],[1,1300,1,1893,"index"],[1,1306,1,1899,"index"],[1,1308,1,1909,"nextState"],[1,1310,1,1919,"StateUtils"],[1,1312,1,1930,"replaceAtIndex"],[1,1327,1,1945,"state"],[1,1329,1,1951,"index"],[1,1331,1,1957,"route"],[1,1334,1,1990],[1,1341,1,1964,"nextState"],[1,1343,1,1974,"index"],[1,1349,1,1980,"nextIndex"],[1,1351,1,1997,"nextState"],[1,1354,1,2009,"replaceAtIndex"],[1,1369,1,2024],[1,1378,1,2048,"state"],[1,1380,1,2054,"index"],[1,1382,1,2060,"route"],[1,1385,1,2158],[1,1389,1,2067],[1,1391,1,2067,"_invariant"],[1,1393,1,2067,"default"],[1,1404,1,2079,"state"],[1,1406,1,2085,"routes"],[1,1413,1,2092,"index"],[1,1416,1,2099],[1,1458,1,2141,"index"],[1,1460,1,2147,"route"],[1,1462,1,2153,"key"],[1,1467,1,2161,"state"],[1,1469,1,2167,"routes"],[1,1476,1,2174,"index"],[1,1481,1,2183,"route"],[1,1484,1,2190,"index"],[1,1488,1,2198,"state"],[1,1490,1,2204,"index"],[1,1496,1,2211],[1,1503,1,2218,"state"],[1,1505,1,2225],[1,1509,1,2229,"routes"],[1,1511,1,2236,"state"],[1,1513,1,2242,"routes"],[1,1520,1,2249,"slice"],[1,1528,1,2277],[1,1535,1,2257,"routes"],[1,1537,1,2264,"index"],[1,1540,1,2271,"route"],[1,1543,1,2284],[1,1545,1,2284,"_objectSpread2"],[1,1547,1,2284,"default"],[1,1559,1,2301,"state"],[1,1562,1,2308,"index"],[1,1568,1,2314,"index"],[1,1570,1,2320,"routes"],[1,1577,1,2327,"routes"],[1,1582,1,2338,"reset"],[1,1588,1,2344],[1,1597,1,2359,"state"],[1,1599,1,2365,"routes"],[1,1601,1,2372,"index"],[1,1605,1,2379],[1,1607,1,2379,"_invariant"],[1,1609,1,2379,"default"],[1,1618,1,2389,"routes"],[1,1620,1,2396,"length"],[1,1628,1,2404,"Array"],[1,1634,1,2410,"isArray"],[1,1642,1,2418,"routes"],[1,1645,1,2426],[1,1674,1,2455],[1,1678,1,2459,"nextIndex"],[1,1685,1,2477,"undefined"],[1,1689,1,2469,"index"],[1,1691,1,2487,"routes"],[1,1693,1,2494,"length"],[1,1700,1,2501],[1,1702,1,2503,"index"],[1,1704,1,2509],[1,1707,1,2512,"state"],[1,1709,1,2518,"routes"],[1,1716,1,2525,"length"],[1,1725,1,2534,"routes"],[1,1727,1,2541,"length"],[1,1735,1,2549,"state"],[1,1737,1,2555,"index"],[1,1745,1,2563,"nextIndex"],[1,1747,1,2573],[1,1748,1,2641],[1,1751,1,2644,"state"],[1,1753,1,2650,"routes"],[1,1760,1,2657,"every"],[1,1766,1,2586],[1,1775,1,2603,"route"],[1,1777,1,2609,"ii"],[1,1780,1,2613],[1,1787,1,2620,"routes"],[1,1789,1,2627,"ii"],[1,1794,1,2633,"route"],[1,1798,1,2673],[1,1805,1,2680,"state"],[1,1807,1,2757],[1,1814,1,2688],[1,1816,1,2688,"_invariant"],[1,1818,1,2688,"default"],[1,1829,1,2700,"routes"],[1,1831,1,2707,"nextIndex"],[1,1834,1,2718],[1,1862,1,2746,"nextIndex"],[1,1866,1,2764],[1,1868,1,2764,"_objectSpread2"],[1,1870,1,2764,"default"],[1,1882,1,2781,"state"],[1,1885,1,2788,"index"],[1,1891,1,2794,"nextIndex"],[1,1893,1,2804,"routes"],[1,1900,1,2811,"routes"],[1,1908,1,2838,"StateUtils"]]},"type":"js/module"}]}