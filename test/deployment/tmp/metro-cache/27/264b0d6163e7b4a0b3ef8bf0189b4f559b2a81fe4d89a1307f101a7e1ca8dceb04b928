{"dependencies":[{"name":"BatchedBridge","data":{"isAsync":false}},{"name":"EventEmitter","data":{"isAsync":false}},{"name":"TaskQueue","data":{"isAsync":false}},{"name":"infoLog","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"fbjs/lib/keyMirror","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=(r(d[3]),r(d[4])),s=r(d[5]),u=new t,l={Events:s({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){k(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),h.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){h.cancelTasks(t)}}},createInteractionHandle:function(){k();var n=++T;return p.add(n),n},clearInteractionHandle:function(n){c(!!n,'Must provide a handle to clear.'),k(),p.delete(n),v.add(n)},addListener:u.addListener.bind(u),setDeadline:function(n){E=n}},f=new Set,p=new Set,v=new Set,h=new o({onMoreTasks:k}),w=0,T=0,E=-1;function k(){w||(w=E>0?setTimeout(S,0):setImmediate(S))}function S(){w=0;var t=f.size;p.forEach(function(n){return f.add(n)}),v.forEach(function(n){return f.delete(n)});var o=f.size;if(0!==t&&0===o?u.emit(l.Events.interactionComplete):0===t&&0!==o&&u.emit(l.Events.interactionStart),0===o)for(;h.hasTasksToProcess();)if(h.processNext(),E>0&&n.getEventLoopRunningTime()>=E){k();break}p.clear(),v.clear()}m.exports=l});","map":[[1,28,11,0],[1,41,13,0],[1,45,13,6,"BatchedBridge"],[1,47,13,22,"require"],[1,49,13,29,"d"],[1,51,13,29],[1,55,14,6,"EventEmitter"],[1,57,14,21,"require"],[1,59,14,28,"d"],[1,61,14,28],[1,65,15,6,"TaskQueue"],[1,67,15,18,"require"],[1,69,15,25,"d"],[1,71,15,25],[1,75,18,6,"invariant"],[1,78,17,16,"require"],[1,80,17,23,"d"],[1,82,17,23],[1,86,18,18,"require"],[1,88,18,25,"d"],[1,90,18,25],[1,95,19,6,"keyMirror"],[1,97,19,18,"require"],[1,99,19,25,"d"],[1,101,19,25],[1,105,24,6,"_emitter"],[1,107,24,17],[1,111,24,21,"EventEmitter"],[1,113,78,6,"InteractionManager"],[1,116,79,2,"Events"],[1,123,79,10,"keyMirror"],[1,126,80,4,"interactionStart"],[1,144,80,22],[1,146,81,4,"interactionComplete"],[1,167,81,25],[1,171,88,2,"runAfterInteractions"],[1,192,78,27],[1,201,89,4,"task"],[1,204,91,4],[1,208,91,10,"tasks"],[1,213,92,10,"promise"],[1,215,92,20],[1,219,92,24,"Promise"],[1,227,92,32],[1,236,92,32,"resolve"],[1,239,93,6,"_scheduleUpdate"],[1,243,94,10,"task"],[1,246,95,8,"tasks"],[1,248,95,14,"push"],[1,253,95,19,"task"],[1,256,97,6,"tasks"],[1,258,97,12,"push"],[1,264,98,8,"run"],[1,268,98,13,"resolve"],[1,270,99,8,"name"],[1,275,99,14],[1,287,99,29,"task"],[1,290,99,37,"task"],[1,292,99,42,"name"],[1,298,99,51],[1,305,101,6,"_taskQueue"],[1,307,101,17,"enqueueTasks"],[1,320,101,30,"tasks"],[1,325,103,4],[1,332,104,6,"then"],[1,337,104,12,"promise"],[1,339,104,20,"then"],[1,344,104,25,"bind"],[1,349,104,30,"promise"],[1,352,105,6,"done"],[1,357,105,12],[1,368,106,8],[1,371,106,12,"promise"],[1,373,106,20,"done"],[1,378,107,10],[1,385,107,17,"promise"],[1,387,107,25,"done"],[1,392,107,17,"apply"],[1,398,107,17,"promise"],[1,400,107,24,"arguments"],[1,411,109,10,"console"],[1,419,109,18,"warn"],[1,424,110,12],[1,501,114,6,"cancel"],[1,508,114,14],[1,519,115,8,"_taskQueue"],[1,521,115,19,"cancelTasks"],[1,533,115,31,"tasks"],[1,539,123,2,"createInteractionHandle"],[1,563,78,27],[1,574,125,4,"_scheduleUpdate"],[1,578,126,4],[1,582,126,10,"handle"],[1,586,126,21,"_inc"],[1,588,128,4],[1,595,127,4,"_addInteractionSet"],[1,597,127,23,"add"],[1,601,127,27,"handle"],[1,604,128,11,"handle"],[1,607,134,2,"clearInteractionHandle"],[1,630,78,27],[1,639,134,25,"handle"],[1,642,136,4,"invariant"],[1,646,136,16,"handle"],[1,648,136,24],[1,683,137,4,"_scheduleUpdate"],[1,687,138,4,"_addInteractionSet"],[1,689,138,23,"delete"],[1,696,138,30,"handle"],[1,699,139,4,"_deleteInteractionSet"],[1,701,139,26,"add"],[1,705,139,30,"handle"],[1,709,142,2,"addListener"],[1,721,142,15,"_emitter"],[1,723,142,24,"addListener"],[1,735,142,36,"bind"],[1,740,142,41,"_emitter"],[1,743,149,2,"setDeadline"],[1,755,78,27],[1,764,149,14,"deadline"],[1,767,150,4,"_deadline"],[1,769,150,16,"deadline"],[1,773,154,6,"_interactionSet"],[1,775,154,24],[1,779,154,28,"Set"],[1,783,155,6,"_addInteractionSet"],[1,785,155,27],[1,789,155,31,"Set"],[1,793,156,6,"_deleteInteractionSet"],[1,795,156,30],[1,799,156,34,"Set"],[1,803,157,6,"_taskQueue"],[1,805,157,19],[1,809,157,23,"TaskQueue"],[1,812,157,34,"onMoreTasks"],[1,824,157,47,"_scheduleUpdate"],[1,828,158,4,"_nextUpdateHandle"],[1,830,158,24],[1,832,159,4,"_inc"],[1,834,159,11],[1,836,160,4,"_deadline"],[1,839,160,13],[1,841,167,0],[1,850,167,9,"_scheduleUpdate"],[1,854,168,7,"_nextUpdateHandle"],[1,858,173,6,"_nextUpdateHandle"],[1,860,169,8,"_deadline"],[1,862,169,20],[1,864,173,26,"setTimeout"],[1,875,173,37,"_processUpdate"],[1,877,173,36],[1,880,175,26,"setImmediate"],[1,893,175,39,"_processUpdate"],[1,897,183,0],[1,906,183,9,"_processUpdate"],[1,910,184,2,"_nextUpdateHandle"],[1,912,184,22],[1,914,186,2],[1,918,186,8,"interactionCount"],[1,920,186,27,"_interactionSet"],[1,922,186,43,"size"],[1,927,187,2,"_addInteractionSet"],[1,929,187,21,"forEach"],[1,937,187,29],[1,946,187,29,"handle"],[1,949,187,35],[1,956,187,39,"_interactionSet"],[1,958,187,55,"add"],[1,962,187,59,"handle"],[1,967,188,2,"_deleteInteractionSet"],[1,969,188,24,"forEach"],[1,977,188,32],[1,986,188,32,"handle"],[1,989,188,38],[1,996,188,42,"_interactionSet"],[1,998,188,58,"delete"],[1,1005,188,65,"handle"],[1,1010,189,2],[1,1014,189,8,"nextInteractionCount"],[1,1016,189,31,"_interactionSet"],[1,1018,189,47,"size"],[1,1023,200,2],[1,1026,191,27],[1,1030,191,6,"interactionCount"],[1,1033,191,57],[1,1037,191,32,"nextInteractionCount"],[1,1039,193,4,"_emitter"],[1,1041,193,13,"emit"],[1,1046,193,18,"InteractionManager"],[1,1048,193,37,"Events"],[1,1055,193,44,"interactionComplete"],[1,1076,194,34],[1,1080,194,13,"interactionCount"],[1,1083,194,64],[1,1087,194,39,"nextInteractionCount"],[1,1090,196,4,"_emitter"],[1,1092,196,13,"emit"],[1,1097,196,18,"InteractionManager"],[1,1099,196,37,"Events"],[1,1106,196,44,"interactionStart"],[1,1124,200,31],[1,1128,200,6,"nextInteractionCount"],[1,1130,201,4],[1,1135,201,11,"_taskQueue"],[1,1137,201,22,"hasTasksToProcess"],[1,1158,203,6],[1,1161,202,6,"_taskQueue"],[1,1163,202,17,"processNext"],[1,1177,204,8,"_deadline"],[1,1179,204,20],[1,1182,205,8,"BatchedBridge"],[1,1184,205,22,"getEventLoopRunningTime"],[1,1211,205,51,"_deadline"],[1,1213,206,8],[1,1214,208,8,"_scheduleUpdate"],[1,1218,209,8],[1,1224,213,2,"_addInteractionSet"],[1,1226,213,21,"clear"],[1,1234,214,2,"_deleteInteractionSet"],[1,1236,214,24,"clear"],[1,1244,217,0,"module"],[1,1246,217,7,"exports"],[1,1254,217,17,"InteractionManager"]]},"type":"js/module"}]}